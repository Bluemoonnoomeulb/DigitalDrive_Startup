# Сервис бизнес логики

Данный сервис содержит API для взаимодействия клиента (frontend-приложения) с данными на сайте

### Используемые технологии
<ul>
    <li>Язык программирования: JavaScript</li>
    <li>Платформа: Node.js</li>
    <li>Фреймворк для создания веб-приложения: express.js</li>
    <li>Фреймворк-ORM для взаимодействия с реляционной базой данных: Sequelize</li>
</ul>

### Запуск сервиса

Данный сервис для своей работы требует следующие компоненты:
<ul>
    <li>СУБД MySQL</li>
    <li>Запущенный микросервис авторизации, подключенный к базе данных</li>
</ul>

#### Запуск сервиса бизнес-логики

Перед тем, как запустить приложение, необходимо установить все необходимые пакеты, выполнив команду

### `npm install`

После успешной установки всех зависимостей, приложение может быть запущено командой

### `npm start`

После запуска приложения и его подключения к база дынных, вы можете отправлять к нему запросы по протоколу HTTP, обратившись к

### `localhost:1000`

# Сервис авторизации

Данный сервис содержит API для авторизации пользователя в приложении<br>
и проверки его данных при обращении сервиса бизнес-логики по протоколу HTTP

### Используемые технологии
<ul>
    <li>Язык программирования: Python</li>
    <li>Платформа: FastAPI</li>
    <li>Фреймворк для создания веб-приложения: FastAPI</li>
    <li>Библиотека для взаимодействия с базой данных: MySQL-Connector</li>
</ul>

#### Запуск сервиса авторизации

Перед тем, как запустить приложение, необходимо установить все необходимые пакеты, выполнив команду

### `pip install -r ./requirements.txt`

После успешной установки всех зависимостей, приложение может быть запущено командой

### `uvicorn main:app`

После запуска приложения вы можете отправлять к нему запросы по протоколу HTTP, обратившись к

### `localhost:8000`

## Список доступных команд

<table>
    <tr>
        <th>Действие</th>
        <th>Путь</th>
        <th>Входные параметры</th>
        <th>Ответ</th>
    </tr>
    <tr>
        <td>Получение списка авто</td>
        <td><i>GET api/cars</i></td>
        <td>page (номер страницы)<br> size (размер страницы)<br>searchPattern (строка для поиска по имени)</td>
        <td>Список автомобилей с базовой информацией</td>
    </tr>
    <tr>
        <td>Получение деталей авто</td>
        <td><i>GET api/cars/{carId}/details</i></td>
        <td>carId (идентификатор автомобиля)</td>
        <td>Подробная информация об авто</td>
    </tr>
    <tr>
        <td>Добавление авто</td>
        <td><i>POST api/cars</i></td>
        <td>Подробная информация об авто</td>
        <td></td>
    </tr>
    <tr>
        <td>Добавление авто в избранное</td>
        <td><i>POST api/favorites/add</i></td>
        <td>carId (идентификатор автомобиля)</td>
        <td></td>
    </tr>
    <tr>
        <td>Удаление авто из избранного</td>
        <td><i>POST api/favorites/drop</i></td>
        <td>carId (идентификатор автомобиля)</td>
        <td></td>
    </tr>
    <tr>
        <td>Получение избранных автомобилей</td>
        <td><i>GET api/favorites</i></td>
        <td></td>
        <td>Базовая информация об избранных авто</td>
    </tr>
    <tr>
        <td>Регистрация в приложении</td>
        <td><i>POST api/users/registration</i></td>
        <td>username (логин пользователя) <br> password (пароль) <br> email (почта)</td>
        <td>accessToken <br> refreshToken</td>
    </tr>
    <tr>
        <td>Авторизация в приложении</td>
        <td><i>POST api/users/auth</i></td>
        <td>username (логин пользователя) <br> password (пароль)</td>
        <td>accessToken <br> refreshToken</td>
    </tr>
    <tr>
        <td>Выход из аккаунта</td>
        <td><i>POST api/users/logout</i></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>Обновление токенов</td>
        <td><i>POST api/users/refresh</i></td>
        <td>refreshToken</td>
        <td>accessToken <br> refreshToken</td>
    </tr>
    <tr>
        <td>Проверка подлинности accessToken'a</td>
        <td><i>POST api/users/validate</i></td>
        <td>accessToken</td>
        <td>true / false</td>
    </tr>
</table>